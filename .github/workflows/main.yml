name: Jumptube        

on:        
  schedule:        
    - cron: '0 */5 * * *'  # every 5 hours        
  workflow_dispatch:        

jobs:        
  run-bots:        
    runs-on: ubuntu-latest        
    timeout-minutes: 330        

    steps:        
      # Checkout repository        
      - name: Checkout repository        
        uses: actions/checkout@v3        

      # Setup Node.js        
      - name: Setup Node.js        
        uses: actions/setup-node@v3        
        with:        
          node-version: '20'        

      # Install Playwright locally in the runner        
      - name: Setup Playwright locally        
        run: |        
          npm init -y        
          npm install playwright        
          npx playwright install firefox        
          sudo apt-get update        
          sudo apt-get install -y unzip xvfb        

      # Unzip Firefox profiles and list files        
      - name: Unzip Firefox profiles        
        run: |        
          unzip -o firefox-profile-1.zip -d firefox-profile-1        
          echo "Listing all files in current directory:"        
          ls -l        
          echo " Listing all files in extracted firefox-profile-1 directory:"        
          ls -l 
